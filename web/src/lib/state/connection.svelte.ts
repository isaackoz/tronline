// todo: make this state class manage the p2p connection
// this is a generic connection state which manages the flow of messages
// between two peers
